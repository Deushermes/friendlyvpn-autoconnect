<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç iOS –∞–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        .test-link {
            display: block;
            background: #007AFF;
            color: white;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
            text-decoration: none;
            text-align: center;
        }
        .test-link:hover {
            background: #0056CC;
        }
        .vless-url {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            font-family: monospace;
            font-size: 12px;
            word-break: break-all;
            margin: 15px 0;
            border: 1px solid #dee2e6;
        }
        .info {
            background: #d1ecf1;
            padding: 15px;
            border-radius: 8px;
            margin: 15px 0;
        }
    </style>
</head>
<body>
    <h1>üß™ –¢–µ—Å—Ç iOS –∞–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è</h1>
    
    <div class="info">
        <strong>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é:</strong><br>
        1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Streisand<br>
        2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—É—é —Å—Å—ã–ª–∫—É –Ω–∏–∂–µ<br>
        3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ª–∏ Streisand –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏<br>
        4. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –ª–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
    </div>

    <h2>–¢–µ—Å—Ç–æ–≤–∞—è VLESS —Å—Å—ã–ª–∫–∞:</h2>
    <div class="vless-url" id="vlessUrl">
        vless://a95bdb61-fcb4-4533-928b-b37402fb1499@194.87.0.95:443?security=reality&type=tcp&headerType=none&flow=xtls-rprx-vision&path=&host=&sni=www.microsoft.com&fp=chrome&pbk=d_qgnvC_tQE0YQDehb3SXlJyqH8Ae7F_KxQL0xzhuwc&sid=6ba85179e30d4fc2#üöÄ%20Marz%20(user_371091233_1751797493)%20[VLESS%20-%20tcp]
    </div>

    <h2>–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Å—ã–ª–∫–∏:</h2>
    
    <a href="#" class="test-link" onclick="testDirect()">
        üì± –¢–µ—Å—Ç 1: –ü—Ä—è–º–∞—è VLESS —Å—Å—ã–ª–∫–∞
    </a>
    
    <a href="#" class="test-link" onclick="testStreisandImport()">
        üì± –¢–µ—Å—Ç 2: Streisand Import —Å—Ö–µ–º–∞
    </a>
    
    <a href="#" class="test-link" onclick="testStreisandAdd()">
        üì± –¢–µ—Å—Ç 3: Streisand Add —Å—Ö–µ–º–∞
    </a>
    
    <a href="#" class="test-link" onclick="testAutoConnectPage()">
        üöÄ –¢–µ—Å—Ç 4: –ü–æ–ª–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∞–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
    </a>
    
    <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:</h2>
    <div id="results" style="background: #f8f9fa; padding: 15px; border-radius: 8px; min-height: 100px;"></div>

    <script>
        const vlessUrl = "vless://a95bdb61-fcb4-4533-928b-b37402fb1499@194.87.0.95:443?security=reality&type=tcp&headerType=none&flow=xtls-rprx-vision&path=&host=&sni=www.microsoft.com&fp=chrome&pbk=d_qgnvC_tQE0YQDehb3SXlJyqH8Ae7F_KxQL0xzhuwc&sid=6ba85179e30d4fc2#üöÄ%20Marz%20(user_371091233_1751797493)%20[VLESS%20-%20tcp]";
        
        function logResult(test, result) {
            const resultsDiv = document.getElementById('results');
            const timestamp = new Date().toLocaleTimeString();
            resultsDiv.innerHTML += `<div><strong>[${timestamp}] ${test}:</strong> ${result}</div>`;
        }

        function testDirect() {
            logResult("–ü—Ä—è–º–∞—è VLESS", "–ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–∫—Ä—ã—Ç—å –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É...");
            
            try {
                window.location.href = vlessUrl;
                setTimeout(() => {
                    logResult("–ü—Ä—è–º–∞—è VLESS", "–°—Å—ã–ª–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞");
                }, 1000);
            } catch (error) {
                logResult("–ü—Ä—è–º–∞—è VLESS", `–û—à–∏–±–∫–∞: ${error.message}`);
            }
        }

        function testStreisandImport() {
            const url = `streisand://import/${encodeURIComponent(vlessUrl)}`;
            logResult("Streisand Import", `–¢–µ—Å—Ç–∏—Ä—É–µ–º: ${url.substring(0, 50)}...`);
            
            try {
                window.location.href = url;
                setTimeout(() => {
                    logResult("Streisand Import", "–°—Ö–µ–º–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞");
                }, 1000);
            } catch (error) {
                logResult("Streisand Import", `–û—à–∏–±–∫–∞: ${error.message}`);
            }
        }

        function testStreisandAdd() {
            const url = `streisand://add?url=${encodeURIComponent(vlessUrl)}`;
            logResult("Streisand Add", `–¢–µ—Å—Ç–∏—Ä—É–µ–º: ${url.substring(0, 50)}...`);
            
            try {
                window.location.href = url;
                setTimeout(() => {
                    logResult("Streisand Add", "–°—Ö–µ–º–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞");
                }, 1000);
            } catch (error) {
                logResult("Streisand Add", `–û—à–∏–±–∫–∞: ${error.message}`);
            }
        }

        function testAutoConnectPage() {
            const encodedUrl = encodeURIComponent(vlessUrl);
            const pageUrl = `ios.html?url=${encodedUrl}`;
            logResult("–ê–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ", `–ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É: ${pageUrl}`);
            
            window.location.href = pageUrl;
        }

        // –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
        let pageVisible = true;
        document.addEventListener('visibilitychange', function() {
            if (document.hidden) {
                pageVisible = false;
            } else {
                if (!pageVisible) {
                    logResult("–°–∏—Å—Ç–µ–º–∞", "–í–µ—Ä–Ω—É–ª–∏—Å—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è");
                }
                pageVisible = true;
            }
        });

        window.addEventListener('focus', function() {
            logResult("–°–∏—Å—Ç–µ–º–∞", "–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ–ª—É—á–∏–ª–∞ —Ñ–æ–∫—É—Å");
        });

        window.addEventListener('blur', function() {
            logResult("–°–∏—Å—Ç–µ–º–∞", "–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ—Ç–µ—Ä—è–ª–∞ —Ñ–æ–∫—É—Å (–≤–æ–∑–º–æ–∂–Ω–æ, –æ—Ç–∫—Ä—ã–ª–æ—Å—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)");
        });

        // –õ–æ–≥ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            logResult("–°–∏—Å—Ç–µ–º–∞", "–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞");
            logResult("User Agent", navigator.userAgent);
        });
    </script>
</body>
</html>
